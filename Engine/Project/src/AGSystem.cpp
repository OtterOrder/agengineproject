#include "AGSystem.h"
#include "AGGame.h"
#include "AGCRC.h"

extern	AGGame* gGame;

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void AGSystem::Initializze( void )
{
	_mShutDown = false;

	CRC::Initialize();

	gGame->Init();
}

//------------------------------------------------------------------------------------------------------------------------------
void AGSystem::Destroy( void )
{
	gGame->Destroy();
	SAFE_DELETE(gGame);
}

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void AGSystem::MainLoop( void )
{
	while (!_mShutDown)
	{
		gGame->Update();
	}
}



//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void main ()
{
	AGSystem::GetSingleton()->Initializze();
	AGSystem::GetSingleton()->MainLoop();
	AGSystem::GetSingleton()->Destroy();

	AGSystem::DestroySingleton();
}
