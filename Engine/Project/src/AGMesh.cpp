#include "AGMesh.h"

#include "AGWDX9.h"

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
AGMesh::AGMesh()
{
	_mNbVertices = 0;
	_mNbFaces = 0;

	_mpVB = NULL;
	_mpIB = NULL;
	_mpVD = NULL;
}

//------------------------------------------------------------------------------------------------------------------------------
AGMesh::~AGMesh()
{
	Release();
}

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
AGResource::AGResourceResult AGMesh::Load (cStr _FileName, void* _Parameters)
{
	AGLoadMeshFromX(_FileName,
					this,
					_mNbVertices,
					_mNbFaces,
					_mpVB,
					_mpIB,
					_mVertexElements,
					_mpVD,
					_mVertexSize);

	return RES_SUCCEED;
}

//------------------------------------------------------------------------------------------------------------------------------
void AGMesh::Release ()
{
	SAFE_RELEASE(_mpVB);
	SAFE_RELEASE(_mpIB);
	SAFE_RELEASE(_mpVD);
}