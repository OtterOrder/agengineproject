#include	"AGRenderTarget.h"

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
AGRenderTarget::AGRenderTarget(void)
{
	_mpSurface = NULL;
	_mpTexture = NULL;
}

//------------------------------------------------------------------------------------------------------------------------------
AGRenderTarget::~AGRenderTarget(void)
{
	Release();
}

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void AGRenderTarget::Release ()
{
	SAFE_RELEASE(_mpSurface);
	SAFE_RELEASE(_mpTexture);
}

//------------------------------------------------------------------------------------------------------------------------------
bool AGRenderTarget::Create (AGVector2u _Size, AGTextureFormat _Format)
{
	Release ();

	if (!AGCreateRenderTarget(_Size, _Format, _mpTexture))
		return false;

	_mpTexture->GetSurfaceLevel(0, &_mpSurface);

	return true;
}

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void AGRenderTarget::operator = (const AGRenderTarget& _RenderTarget)
{
	_mSize		= _RenderTarget._mSize;
								 
	_mpSurface	= _RenderTarget._mpSurface;
	_mpTexture	= _RenderTarget._mpTexture;
}