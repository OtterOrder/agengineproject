#include "AGSystem.h"
#include "AGGame.h"

extern	AGGame* gGame;

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void AGSystem::Init( void )
{
	_mDestroy = false;

	gGame->Init();
}

//------------------------------------------------------------------------------------------------------------------------------
void AGSystem::Destroy( void )
{
	gGame->Destroy();
	delete gGame;
}

//------------------------------------------------------------------------------------------------------------------------------
void AGSystem::MainLoop( void )
{
	while (!_mDestroy)
	{
		gGame->Update();
	}
}

//------------------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------------------
void main ()
{
	AGSystem::GetSingleton()->Init();
	AGSystem::GetSingleton()->MainLoop();
	AGSystem::GetSingleton()->Destroy();
}
